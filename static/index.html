<!DOCTYPE html>
<html lang="en" dir="ltr" manifest="./nothing_here/cache.appcache">
    <head>
        <meta charset="utf-8">
        <title></title>
        <link rel="manifest" href="./app.webmanifest" crossorigin="use-credentials" />
        <style media="screen">
            :root {
                --background-color: #232323;
                --style-border-color: #729fcf;
                --style-background-midpoint-color: #4B6179;
                --stat-background-midpoint-color: #526865;
                --item-editor-background-color: #323232;
                --stat-border-color: #81aca6;
                --competences-border-color: #4d818f;
                --prof-icon-color: #67979B;
                --overlay-color: var(--background-color);
                --fluff-color: #cf9372;
                --fluff-background-midpoint-color: #9C7A62;
                --fluff-background-color: #686152;
            }
            body
            {
                background-color: var(--background-color);
            }
            screen
            {
                display: block;
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                overflow: hidden;
            }
            loading
            {
                display: none;
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                overflow: hidden;
            }
            .block
            {
                display: block;
            }
            .button
            {
                position: absolute;
                top: 1px;
                left: 1px;
            }
        </style>
    </head>
    <body>
    <loading></loading>
    <button type="button" name="button" class="button">Install me bitch</button>
    <screen></screen>
    </body>
    <script src="./service.worker.register.js"></script>
    <script src="./nothing_here/js/system.js" charset="utf-8"></script>

    <script type="text/javascript" id="progressiveWebFart">
        let deferredPrompt;
        const addBtn = document.querySelector(".button");
        addBtn.style.display = "none";

        window.addEventListener("beforeinstallprompt", (e) =>
        {
        console.log("ass")
          // Prevent Chrome 67 and earlier from automatically showing the prompt
          e.preventDefault();
          // Stash the event so it can be triggered later.
          deferredPrompt = e;
          // Update UI to notify the user they can add to home screen
          addBtn.style.display = "block";

          addBtn.addEventListener("click", (e) => {
            // hide our user interface that shows our A2HS button
            addBtn.style.display = "none";
            // Show the prompt
            deferredPrompt.prompt();
            // Wait for the user to respond to the prompt
            deferredPrompt.userChoice.then((choiceResult) => {
              if (choiceResult.outcome === "accepted") {
                console.log("User accepted the A2HS prompt");
              } else {
                console.log("User dismissed the A2HS prompt");
              }
              deferredPrompt = null;
            });
          });
        });
    </script>
</html>
